# =================================================================
# .env.staging - Staging Environment Configuration
# =================================================================

# Staging Application Settings
APP_ENV=staging
APP_LOG_LEVEL=INFO
DEBUG_MODE=false
VERBOSE_LOGGING=true

# Staging Build Configuration
BUILD_TYPE=cpu
SERVICE_RUNTIME=python
BUILD_PYTHON=true
BUILD_RUST_NETWORK=false
BUILD_RUST_EXECUTION=false
BUILD_CONNECTOR=false
BUILD_DOTNET=false
BUILD_NODE=false

# Staging Source Mounting (read-only for stability)
SRC_MOUNT=./src/python
SRC_MOUNT_MODE=ro
WEB_SRC_MOUNT=./src/web
WEB_SRC_MOUNT_MODE=ro

# Staging Features (some debug tools enabled)
ENABLE_DEBUG_TOOLBAR=false
ENABLE_HOT_RELOAD=false
ENABLE_PROFILER=false
ADMINER_ENABLED=true
REDIS_COMMANDER_ENABLED=false

# Staging Resource Limits (moderate for staging)
API_CPU_LIMIT=2
API_MEMORY_LIMIT=2048M
DATA_CPU_LIMIT=2
DATA_MEMORY_LIMIT=2048M
WORKER_CPU_LIMIT=2
WORKER_MEMORY_LIMIT=2048M
WEB_CPU_LIMIT=1
WEB_MEMORY_LIMIT=1024M
NGINX_CPU_LIMIT=0.5
NGINX_MEMORY_LIMIT=256M

# Staging Database Settings
POSTGRES_MAX_CONNECTIONS=100
POSTGRES_SHARED_BUFFERS=256MB
REDIS_MAXMEMORY=512mb

# Staging Health Checks (production-like)
HEALTHCHECK_START_PERIOD=60s
HEALTHCHECK_RETRIES=3
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_INTERVAL=30s

# Staging Logging (moderate retention)
LOG_DRIVER=json-file
LOG_MAX_SIZE=50m
LOG_MAX_FILES=3

# Staging Workers
WORKER_COUNT=2

# Standard Ports
API_PORT=8000
WORKER_PORT=8001
WEB_PORT=3000
DATA_PORT=9001
HTTP_PORT=80
HTTPS_PORT=443

# GPU Services Configuration (for staging GPU testing)
TRAINING_PORT=8088
TENSORBOARD_PORT=6006
TRANSFORMER_PORT=8089
GRADIO_PORT=7860
GPU_COUNT=1

# SSL Configuration (enabled for staging)
ENABLE_SSL=true
SSL_STAGING=true

# Node environment
NODE_ENV=production

# Security Settings (moderate for staging)
RATE_LIMITING_ENABLED=true
ENABLE_SECURITY_HEADERS=true

# Monitoring (enabled for staging)
MONITORING_ENABLED=true
PROMETHEUS_ENABLED=false
GRAFANA_ENABLED=false
BACKUP_ENABLED=false
